<?xml version="1.0" encoding="utf-8"?>
<container xmlns="http://symfony.com/schema/dic/services" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd">
    <parameters>
        <parameter key="kpj_guzzle.subscribers.cache.class">GuzzleHttp\Subscriber\Cache\CacheSubscriber</parameter>
        <parameter key="kpj_guzzle.subscribers.cache.purge">true</parameter>
        <parameter key="kpj_guzzle.subscribers.cache.storage.class">Doctrine\Common\Cache\ArrayCache</parameter>
        <parameter key="kpj_guzzle.subscribers.cache.storage_wrapper.class">GuzzleHttp\Subscriber\Cache\CacheStorage</parameter>
        <parameter key="kpj_guzzle.subscribers.cache.validate">true</parameter>
    </parameters>
    <services>
        <service class="%kpj_guzzle.subscribers.cache.class%" id="kpj_guzzle.subscribers.cache" public="false">
            <tag name="kpj_guzzle.subscriber" static="true"/>
            <parameter type="collection">
                <parameter key="purge">%kpj_guzzle.subscribers.cache.purge%</parameter>
                <parameter key="storage" name="kpj_guzzle.subscribers.cache.storage_wrapper" type="service"/>
                <parameter key="validate">%kpj_guzzle.subscribers.cache.validate%</parameter>
            </parameter>
        </service>
        <service class="%kpj_guzzle.subscribers.cache.storage.class%" name="kpj_guzzle.subscribers.cache.storage_wrapper" public="false">
            <argument name="kpj_guzzle.subscribers.cache.storage_implementation" type="service"/>
        </service>
        <!-- if this is not defined by the user, then it's defined in Kopjra\GuzzleBundle\DependencyInjection\KopjraGuzzleExtension -->
        <!-- <service class="%kpj_guzzle.subscribers.cache.storage_implementation.class%" name="kpj_guzzle.subscribers.cache.storage"/> -->
    </services>
</container>
